{% extends '@admin/default_frame.twig' %}

{% set menus = ['store', 'plugin', 'plugin_list'] %}

{% block title %}SoftbankPayment4{% endblock %}
{% block sub_title %}プラグイン設定{% endblock %}

{% form_theme form '@admin/Form/bootstrap_4_horizontal_layout.html.twig' %}

{% block stylesheet %}{% endblock stylesheet %}

{% block javascript %}{% endblock javascript %}

{% block main %}
    <form role="form" method="post">

        {{ form_widget(form._token) }}

        <div class="c-contentsArea__cols">
            <div class="c-contentsArea__primaryCol">
                <div class="c-primaryCol">
                    <div class="card rounded border-0 mb-4">
                        <div class="card-header"><span>基本設定</span></div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-3"><span>マーチャントID</span><span
                                            class="badge badge-primary ml-1">必須</span></div>
                                <div class="col mb-2">
                                    {{ form_widget(form.merchant_id) }}
                                    {{ form_errors(form.merchant_id) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><span>サービスID</span><span
                                            class="badge badge-primary ml-1">必須</span></div>
                                <div class="col mb-2">
                                    {{ form_widget(form.service_id) }}
                                    {{ form_errors(form.service_id) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <span>ハッシュキー</span>
                                    <span class="badge badge-primary ml-1">必須</span>
                                </div>
                                <div class="col mb-2">
                                    {{ form_widget(form.hash_key) }}
                                    {{ form_errors(form.hash_key) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <span>3DES暗号化キー</span>
                                    <span class="badge badge-primary ml-1">必須</span>
                                </div>
                                <div class="col mb-2">
                                    {{ form_widget(form.secret_key_3des) }}
                                    {{ form_errors(form.secret_key_3des) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <span>初期化ベクトル</span>
                                    <span class="badge badge-primary ml-1">必須</span>
                                </div>
                                <div class="col mb-2">
                                    {{ form_widget(form.initial_vector) }}
                                    {{ form_errors(form.initial_vector) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><span>通信元IPアドレス</span></div>
                                <div class="col mb-2">
                                    {{ form_widget(form.sbps_ip_address) }}
                                    {{ form_errors(form.sbps_ip_address) }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card rounded border-0 mb-4">
                        <div class="card-header"><span>接続設定</span></div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-3">
                                    <span>売上タイプ</span>
                                    <label class="col-form-label" data-tooltip="true" data-placement="top" title="エントリーシートに記載したクレジットカードの売上方式に合わせて設定してください。"><i class="fa fa-question-circle fa-lg ml-1"></i></label>
                                </div>
                                <div class="col mb-2">
                                    {{ form_widget(form.capture_type, {'label_attr': {'class': 'radio-inline'}}) }}
                                    {{ form_errors(form.capture_type) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3">
                                    <span>クレジットカード3Dセキュア</span>
                                    <label class="col-form-label" data-tooltip="true" data-placement="top" title="エントリーシートに記載した本人認証サービス（3Dセキュア）に合わせて設定してください。"><i class="fa fa-question-circle fa-lg ml-1"></i></label>
                                </div>
                                <div class="col mb-2">
                                    {{ form_widget(form.sbps_credit3d_use, {'label_attr': {'class': 'radio-inline'}}) }}
                                    {{ form_errors(form.sbps_credit3d_use) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><span>リンク型購入要求接続先URL</span></div>
                                <div class="col mb-2">
                                    {{ form_widget(form.link_request_url) }}
                                    {{ form_errors(form.link_request_url) }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-3"><span>API型購入要求接続先URL</span></div>
                                <div class="col mb-2">
                                    {{ form_widget(form.api_request_url) }}
                                    {{ form_errors(form.api_request_url) }}
                                    ※ 管理画面からSBPS決済を操作する場合も設定が必要です。
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card rounded border-0 mb-4">
                        <div class="card-header">
                            <span>決済設定</span>
                            <label class="col-form-label" data-tooltip="true" data-placement="top" title="配送方法設定画面より、決済方法と配送との紐づけが設定可能です。"><i class="fa fa-question-circle fa-lg ml-1"></i></label>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-3"><span>有効にする決済方法</span></div>
                                <div class="col mb-2">
                                    {{ form_widget(form.pay_methods, {'label_attr': {'class': 'checkbox-inline'}}) }}
                                    {{ form_errors(form.pay_methods) }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="c-conversionArea">
            <div class="c-conversionArea__container">
                <div class="row justify-content-between align-items-center">
                    <div class="col-6">
                        <div class="c-conversionArea__leftBlockItem">
                            <a class="c-baseLink"
                               href="{{ url('admin_store_plugin') }}">
                                <i class="fa fa-backward" aria-hidden="true"></i>
                                <span>プラグイン一覧</span>
                            </a>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="row align-items-center justify-content-end">
                            <div class="col-auto">
                                <button class="btn btn-ec-conversion px-5"
                                        type="submit">登録</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
{% endblock %}
